!function(){"use strict";app=app||{},app.Account=Backbone.Model.extend({idAttribute:"_id",url:"/account/settings/"}),app.ServerInfo=Backbone.Model.extend({url:"/account",defaults:{username:"",serverType:"",serverAddress:"",serverUsername:"",serverPassword:""}}),app.RecordCollection=Backbone.Collection.extend({model:app.ServerInfo,url:"/account",parse:function(a){return a.data}}),app.RunTestView=Backbone.View.extend({el:"#runTest",template:_.template($("#tmpl-runTest").html()),events:{"submit form":"preventSubmit","click .btn-runTest":"runTest"},initialize:function(){this.collection=new app.RecordCollection,this.collection.fetch(),this.listenTo(this.collection,"reset",this.render),this.render()},render:function(){this.$el.html(this.template()),console.log(this.collection)}}),app.CreateServerView=Backbone.View.extend({el:"#createServer",template:_.template($("#tmpl-createServer").html()),events:{"submit form":"preventSubmit","click .btn-createServer":"createServer"},initialize:function(){this.model=new app.ServerInfo,this.listenTo(this.model,"sync",this.render),this.render()},render:function(){this.$el.html(this.template(this.model.attributes))},preventSubmit:function(a){a.preventDefault()},createServer:function(){this.$el.find(".btn-signup").attr("disabled",!0),this.model.save({username:"",serverType:this.$el.find('[name="serverType"]').val(),serverAddress:this.$el.find('[name="serverAddress"]').val(),serverUsername:this.$el.find('[name="serverUsername"]').val(),serverPassword:this.$el.find('[name="serverPassword"]').val()},{success:function(a,b){b.success?location.href="/account/":a.set(b)}})}}),$(document).ready(function(){app.CreateServerView=new app.CreateServerView,app.RunTestView=new app.RunTestView})}();
//# sourceMappingURL=index.min.js.map